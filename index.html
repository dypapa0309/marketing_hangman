<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://www.gstatic.com; connect-src 'self' https://*.firebaseio.com https://*.googleapis.com;">
    <title>마케팅 용어 행맨 게임</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="game-container">
        <h1>마케팅 용어 행맨 게임</h1>
        <div id="hangman-drawing">
  <svg width="200" height="200">
    <line x1="40" y1="180" x2="160" y2="180" class="hangman-part" stroke="black" stroke-width="4"/>
    <line x1="60" y1="180" x2="60" y2="20" class="hangman-part" stroke="black" stroke-width="4"/>
    <line x1="60" y1="20" x2="140" y2="20" class="hangman-part" stroke="black" stroke-width="4"/>
    <line x1="140" y1="20" x2="140" y2="50" class="hangman-part" stroke="black" stroke-width="4"/>
    <circle cx="140" cy="70" r="20" class="hangman-part" stroke="black" stroke-width="4" fill="none"/>
    <line x1="140" y1="90" x2="140" y2="130" class="hangman-part" stroke="black" stroke-width="4"/>
    <line x1="140" y1="100" x2="120" y2="120" class="hangman-part" stroke="black" stroke-width="4"/>
    <line x1="140" y1="100" x2="160" y2="120" class="hangman-part" stroke="black" stroke-width="4"/>
    <line x1="140" y1="130" x2="120" y2="160" class="hangman-part" stroke="black" stroke-width="4"/>
    <line x1="140" y1="130" x2="160" y2="160" class="hangman-part" stroke="black" stroke-width="4"/>
</svg>
        </div>
        <div id="word-display"></div>
        <div id="guesses"></div>
        <div id="wrong-letters"></div>
        <input type="text" id="guess-input" maxlength="1">
        <button id="guess-button">추측하기</button>
        <button id="new-game-button">새 게임 시작</button>
        <p id="message"></p>
        <button id="show-explanation" style="display: none;">단어 설명 보기</button>
        <div id="word-explanation"></div>
        <div id="leaderboard">
            <h2>랭킹 <button id="join-ranking">로그인 하고 랭킹전 참여하기</button></h2>
            <ol id="leaderboard-list"></ol>
        </div>
        <div id="creator-info">
            <p>Who made this game? <a href="https://linktr.ee/lsb.0214" target="_blank" rel="noopener noreferrer">Visit creator's page</a></p>
        </div>
    </div>

    <div id="signup-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>회원가입</h2>
            <form id="signup-form">
                <input type="text" id="signup-name" placeholder="이름" required>
                <input type="email" id="signup-email" placeholder="이메일" required>
                <input type="password" id="signup-password" placeholder="비밀번호" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" title="최소 8자, 대문자, 소문자, 숫자를 포함해야 합니다">
                <input type="password" id="signup-password-confirm" placeholder="비밀번호 확인" required>
                <button type="submit">가입하기</button>
            </form>
        </div>
    </div>

    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>로그인</h2>
            <form id="login-form">
                <input type="email" id="login-email" placeholder="이메일" required>
                <input type="password" id="login-password" placeholder="비밀번호" required>
                <button type="submit">로그인</button>
            </form>
        </div>
    </div>

    <div id="join-ranking-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>회원가입하고 랭킹전에 참여하시겠어요?</h2>
            <button id="join-ranking-yes">예</button>
            <button id="join-ranking-no">아니오</button>
        </div>
    </div>

    <div id="error-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>오류</h2>
            <p id="error-message"></p>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js"></script>
    
    <!-- 게임 로직 -->
    <script type="module" src="game.js"></script>
</body>
</html>